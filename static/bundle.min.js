/*! Copyright 2018 discordboats.club. All rights reserved. */
!function(r){function e(e){for(var o,i,l=e[0],s=e[1],c=e[2],p=0,u=[];p<l.length;p++)i=l[p],n[i]&&u.push(n[i][0]),n[i]=0;for(o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o]);for(d&&d(e);u.length;)u.shift()();return a.push.apply(a,c||[]),t()}function t(){for(var r,e=0;e<a.length;e++){for(var t=a[e],o=!0,l=1;l<t.length;l++){var s=t[l];0!==n[s]&&(o=!1)}o&&(a.splice(e--,1),r=i(i.s=t[0]))}return r}var o={},n={1:0},a=[];function i(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.m=r,i.c=o,i.d=function(r,e,t){i.o(r,e)||Object.defineProperty(r,e,{configurable:!1,enumerable:!0,get:t})},i.r=function(r){Object.defineProperty(r,"__esModule",{value:!0})},i.n=function(r){var e=r&&r.__esModule?function(){return r.default}:function(){return r};return i.d(e,"a",e),e},i.o=function(r,e){return Object.prototype.hasOwnProperty.call(r,e)},i.p="";var l=window.webpackJsonp=window.webpackJsonp||[],s=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=s;a.push([6,0]),t()}([,function(r,e,t){r.exports=t.p+"style.css"},,,function(r,e){r.exports=class{async getMe(){if(this._me)return this._me;const r=await fetch("/api/me",{credentials:"same-origin"}),e=await r.json();if(e.error)throw new Error(e.error);return this._me=e,e}async logOut(){await fetch("/api/logout",{credentials:"same-origin",method:"POST"})}async createBot(r){const e=await fetch("/api/bot",{method:"POST",body:JSON.stringify(r),headers:{"Content-Type":"application/json"},credentials:"same-origin"}),t=await e.json();if(t.error)throw new Error(t.error);if(t.ok)return{ok:t.ok};throw new Error("Bad response")}async deleteBot(r){const e=await fetch("/api/bot/"+encodeURI(r),{method:"DELETE",credentials:"same-origin"}),t=await e.json();if(t.error)throw new Error(t.error);if(t.ok)return{ok:t.ok};throw new Error("Bad response")}}},function(r,e,t){var o={accessToken:"0086802676e540b2b2cbdcf4849bf692",captureUncaught:!0,payload:{environment:"production"}};!function(r){function e(o){if(t[o])return t[o].exports;var n=t[o]={exports:{},id:o,loaded:!1};return r[o].call(n.exports,n,n.exports,e),n.loaded=!0,n.exports}var t={};e.m=r,e.c=t,e.p="",e(0)}([function(r,e,t){"use strict";var n=t(1),a=t(4);(o=o||{}).rollbarJsUrl=o.rollbarJsUrl||"https://cdnjs.cloudflare.com/ajax/libs/rollbar.js/2.3.1/rollbar.min.js",o.async=void 0===o.async||o.async;var i=n.setupShim(window,o),l=a(o);window.rollbar=n.Rollbar,i.loadFull(window,document,!o.async,o,l)},function(r,e,t){"use strict";function o(r){return function(){try{return r.apply(this,arguments)}catch(r){try{console.error("[Rollbar]: Internal error",r)}catch(r){}}}}function n(r,e){this.options=r,this._rollbarOldOnError=null;var t=l++;this.shimId=function(){return t},window&&window._rollbarShims&&(window._rollbarShims[t]={handler:e,messages:[]})}function a(r){return o(function(){var e=Array.prototype.slice.call(arguments,0),t={shim:this,method:r,args:e,ts:new Date};window._rollbarShims[this.shimId()].messages.push(t)})}var i=t(2),l=0,s=t(3).bind(null,function(r,e){return new n(r,e)});n.prototype.loadFull=function(r,e,t,n,a){var i=!1,l=e.createElement("script"),s=e.getElementsByTagName("script")[0],c=s.parentNode;l.crossOrigin="",l.src=n.rollbarJsUrl,t||(l.async=!0),l.onload=l.onreadystatechange=o(function(){if(!(i||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)){l.onload=l.onreadystatechange=null;try{c.removeChild(l)}catch(r){}i=!0,function(){var e;if(void 0===r._rollbarDidLoad){e=new Error("rollbar.js did not load");for(var t,o,n,i,l=0;t=r._rollbarShims[l++];)for(t=t.messages||[];o=t.shift();)for(n=o.args||[],l=0;l<n.length;++l)if("function"==typeof(i=n[l])){i(e);break}}"function"==typeof a&&a(e)}()}}),c.insertBefore(l,s)},n.prototype.wrap=function(r,e,t){try{var o;if(o="function"==typeof e?e:function(){return e||{}},"function"!=typeof r)return r;if(r._isWrap)return r;if(!r._rollbar_wrapped&&(r._rollbar_wrapped=function(){t&&"function"==typeof t&&t.apply(this,arguments);try{return r.apply(this,arguments)}catch(t){var e=t;throw"string"==typeof e&&(e=new String(e)),e._rollbarContext=o()||{},e._rollbarContext._wrappedSource=r.toString(),window._rollbarWrappedError=e,e}},r._rollbar_wrapped._isWrap=!0,r.hasOwnProperty))for(var n in r)r.hasOwnProperty(n)&&(r._rollbar_wrapped[n]=r[n]);return r._rollbar_wrapped}catch(e){return r}};for(var c="log,debug,info,warn,warning,error,critical,global,configure,handleUncaughtException,handleUnhandledRejection,captureDomContentLoaded,captureLoad".split(","),d=0;d<c.length;++d)n.prototype[c[d]]=a(c[d]);r.exports={setupShim:function(r,e){var t=e.globalAlias||"Rollbar";if("object"==typeof r[t])return r[t];r._rollbarShims={},r._rollbarWrappedError=null;var n=new s(e);return o(function(){e.captureUncaught&&(n._rollbarOldOnError=r.onerror,i.captureUncaughtExceptions(r,n,!0),i.wrapGlobals(r,n,!0)),e.captureUnhandledRejections&&i.captureUnhandledRejections(r,n,!0);var o=e.autoInstrument;return(void 0===o||!0===o||"object"==typeof o&&o.network)&&r.addEventListener&&(r.addEventListener("load",n.captureLoad.bind(n)),r.addEventListener("DOMContentLoaded",n.captureDomContentLoaded.bind(n))),r[t]=n,n})()},Rollbar:s}},function(r,e){"use strict";function t(r,e,t){if(e.hasOwnProperty&&e.hasOwnProperty("addEventListener")){for(var o=e.addEventListener;o._rollbarOldAdd&&o.belongsToShim;)o=o._rollbarOldAdd;var n=function(e,t,n){o.call(this,e,r.wrap(t),n)};n._rollbarOldAdd=o,n.belongsToShim=t,e.addEventListener=n;for(var a=e.removeEventListener;a._rollbarOldRemove&&a.belongsToShim;)a=a._rollbarOldRemove;var i=function(r,e,t){a.call(this,r,e&&e._rollbar_wrapped||e,t)};i._rollbarOldRemove=a,i.belongsToShim=t,e.removeEventListener=i}}r.exports={captureUncaughtExceptions:function(r,e,t){if(r){var o;"function"==typeof e._rollbarOldOnError?o=e._rollbarOldOnError:r.onerror&&!r.onerror.belongsToShim&&(o=r.onerror,e._rollbarOldOnError=o);var n=function(){var t=Array.prototype.slice.call(arguments,0);!function(r,e,t,o){r._rollbarWrappedError&&(o[4]||(o[4]=r._rollbarWrappedError),o[5]||(o[5]=r._rollbarWrappedError._rollbarContext),r._rollbarWrappedError=null),e.handleUncaughtException.apply(e,o),t&&t.apply(r,o)}(r,e,o,t)};n.belongsToShim=t,r.onerror=n}},captureUnhandledRejections:function(r,e,t){if(r){"function"==typeof r._rollbarURH&&r._rollbarURH.belongsToShim&&r.removeEventListener("unhandledrejection",r._rollbarURH);var o=function(r){var t=r.reason,o=r.promise,n=r.detail;!t&&n&&(t=n.reason,o=n.promise),e&&e.handleUnhandledRejection&&e.handleUnhandledRejection(t,o)};o.belongsToShim=t,r._rollbarURH=o,r.addEventListener("unhandledrejection",o)}},wrapGlobals:function(r,e,o){if(r){var n,a,i="EventTarget,Window,Node,ApplicationCache,AudioTrackList,ChannelMergerNode,CryptoOperation,EventSource,FileReader,HTMLUnknownElement,IDBDatabase,IDBRequest,IDBTransaction,KeyOperation,MediaController,MessagePort,ModalWindow,Notification,SVGElementInstance,Screen,TextTrack,TextTrackCue,TextTrackList,WebSocket,WebSocketWorker,Worker,XMLHttpRequest,XMLHttpRequestEventTarget,XMLHttpRequestUpload".split(",");for(n=0;n<i.length;++n)r[a=i[n]]&&r[a].prototype&&t(e,r[a].prototype,o)}}}},function(r,e){"use strict";function t(r,e){this.impl=r(e,this),this.options=e,function(r){for(var e=function(r){return function(){var e=Array.prototype.slice.call(arguments,0);if(this.impl[r])return this.impl[r].apply(this.impl,e)}},t="log,debug,info,warn,warning,error,critical,global,configure,handleUncaughtException,handleUnhandledRejection,_createItem,wrap,loadFull,shimId,captureDomContentLoaded,captureLoad".split(","),o=0;o<t.length;o++)r[t[o]]=e(t[o])}(t.prototype)}t.prototype._swapAndProcessMessages=function(r,e){this.impl=r(this.options);for(var t,o,n;t=e.shift();)o=t.method,n=t.args,this[o]&&"function"==typeof this[o]&&("captureDomContentLoaded"===o||"captureLoad"===o?this[o].apply(this,[n[0],t.ts]):this[o].apply(this,n));return this},r.exports=t},function(r,e){"use strict";r.exports=function(r){return function(e){if(!e&&!window._rollbarInitialized){for(var t,o,n=(r=r||{}).globalAlias||"Rollbar",a=window.rollbar,i=function(r){return new a(r)},l=0;t=window._rollbarShims[l++];)o||(o=t.handler),t.handler._swapAndProcessMessages(i,t.messages);window[n]=o,window._rollbarInitialized=!0}}}}]);const n=t(4),a=t(0),i=t(3),l=new n;var s;console.log("Welcome to discordboats.club! Why are you looking here? :P"),console.log("%cðŸš« Warning! ðŸš«","color: red; font-weight: bold; font-size: x-large"),console.log("%cTyping anything here could make bad stuff happen!","color: #e91e63; font-size: large"),a(window).ready(async()=>{document.querySelectorAll(".modal").forEach(r=>i.Modal.init(r)),i.Dropdown.init(document.querySelector("#profile-dropdown-trigger"),{coverTrigger:!1}),document.querySelector("#log-out-indd").addEventListener("click",async r=>{await l.logOut(),window.localStorage.setItem("toastOnNext","Logged out"),window.location.replace("/")}),window.localStorage.toastOnNext&&(i.toast({html:window.localStorage.toastOnNext}),window.localStorage.removeItem("toastOnNext")),document.location.href.includes("/dashboard/new")?(i.FormSelect.init(a("select#newbot"),{classes:"newbot-dd-wrap"}),a("form").submit(async r=>{r.preventDefault(),console.log(r);let e=i.FormSelect.getInstance(a("select")).getSelectedValues()[0];"none"===e&&(e=void 0);try{await l.createBot({id:r.target[0].value,library:e,prefix:r.target[3].value,website:(s=r.target[4].value,""===s.trim()?void 0:s),invite:r.target[5].value||`https://discordapp.com/oauth2/authorize?client_id=${encodeURI(r.target[0].value)}&scope=bot&permissions=0`,shortDescription:r.target[6].value,longDescription:r.target[7].value}),i.toast({html:"Submitted bot!"})}catch(r){if("ValidationError"===r.message)return i.toast({html:"Invalid details!"});throw i.toast({html:"Error while submitting bot!"}),r}})):document.location.href.includes("/bot/")&&a("#delete-bot-action").click(async r=>{await l.deleteBot(document.querySelector("#delete-bot-modal").getAttribute("data-bot-id")),window.localStorage.setItem("toastOnNext","Deleted bot."),document.location.replace("/")})})},function(r,e,t){t(5),r.exports=t(1)}]);